"use strict";(self.webpackChunkkims_frontend=self.webpackChunkkims_frontend||[]).push([[573],{6573:(e,a,s)=>{s.r(a),s.d(a,{default:()=>u});var t=s(5043),n=s(214),r=s(5030),c=s(1036),i=s(579);const u=()=>{const[e,a]=(0,t.useState)([]),[s,u]=(0,t.useState)(1),[l,o]=(0,t.useState)(10),[d,m]=(0,t.useState)(""),[g,h]=(0,t.useState)(0);(0,t.useEffect)((()=>{v()}),[s,l,d]);const v=async()=>{try{const e=await n.A.post("/users-status",{page:s,limit:l});a(e.data.users),h(e.data.pagination.totalUsers)}catch(r){var e,t;c.oR.error((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Something went wrong!")}},p=[{key:"name",label:"Name"},{key:"username",label:"Username"},{key:"email",label:"Email"},{key:"isActive",label:"Status",render:(e,a)=>(0,i.jsx)("button",{className:"btn btn-sm "+(e?"btn-success":"btn-danger"),onClick:()=>(async(e,a)=>{try{(await n.A.put("/update-users-status",{id:e,isActive:a})).data.success&&(c.oR.success(`User ${a?"activated":"deactivated"} successfully!`),v())}catch(r){var s,t;c.oR.error((null===(s=r.response)||void 0===s||null===(t=s.data)||void 0===t?void 0:t.message)||"Error updating user status!")}})(a.id,!e),children:e?"Active":"Inactive"})}];return(0,i.jsxs)("div",{style:{marginTop:"20vh"},className:"container",children:[(0,i.jsx)("h2",{className:"text-center",children:"User Status Management page"}),(0,i.jsx)(r.A,{data:e,columns:p,currentPage:s,rowsPerPage:l,handleRowsPerPageChange:e=>{o(e)},onPageChange:e=>{u(e)},handleSearch:async e=>{if(m(e),e){const{data:s}=await n.A.get(`/search-users/${e}`);a(s.users)}else v()},showSearch:!1,totalItems:g,pagenation:!0,Action:!1})]})}}}]);
//# sourceMappingURL=573.fb07f314.chunk.js.map