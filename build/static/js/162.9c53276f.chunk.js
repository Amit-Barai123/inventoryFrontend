"use strict";(self.webpackChunkkims_frontend=self.webpackChunkkims_frontend||[]).push([[162],{7735:(e,t,a)=>{a.d(t,{A:()=>o});a(5043);var s=a(1108),l=a(579);const o=e=>{let{showModal:t,header:a,onClose:o,onSubmit:r,isEditing:c,formData:n,setFormData:i,fields:d,items:u,uoms:m}=e;const h=e=>{i({...n,[e.target.name]:e.target.value})};return(0,l.jsx)("div",{className:"modal modal-overlay "+(t?"d-block":"d-none"),tabIndex:"-1",role:"dialog",children:(0,l.jsx)("div",{className:"modal-dialog",role:"document",children:(0,l.jsxs)("div",{className:"modal-content",children:[(0,l.jsxs)("div",{className:"modal-header",children:[(0,l.jsxs)("h5",{className:"modal-title",children:[c?"Edit":"Add"," ",a]}),(0,l.jsx)("button",{type:"button",className:"btn-close",onClick:o})]}),(0,l.jsx)("div",{className:"modal-body",children:d.map(((e,t)=>{if("select"===e.type){const a="item_id"===e.name?u.map((e=>({value:e.id,label:e.itemname}))):m.map((e=>({value:e.id,label:e.uomname})));return(0,l.jsxs)("div",{className:"form-group mb-3",children:[(0,l.jsx)("label",{children:e.label}),(0,l.jsx)(s.A,{data:a,isMulti:!1,selectedValue:n[e.name],placeholder:`Select ${e.label}`,onUpdateSelectedValue:t=>{return a=e.name,s=null===t||void 0===t?void 0:t.value,void i({...n,[a]:s});var a,s}})]},t)}return(0,l.jsxs)("div",{className:"form-group mb-3",children:[(0,l.jsx)("label",{children:e.label}),(0,l.jsx)("input",{type:e.type,name:e.name,value:n[e.name]||"",onChange:h,className:"form-control"})]},t)}))}),(0,l.jsxs)("div",{className:"modal-footer",children:[(0,l.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:o,children:"Cancel"}),(0,l.jsx)("button",{type:"button",className:"btn btn-primary",onClick:()=>r(n),children:c?"Update":"Save"})]})]})})})}},1108:(e,t,a)=>{a.d(t,{A:()=>c});var s=a(5043),l=a(249),o=a(579);class r extends s.Component{constructor(e){super(e),this.handleChange=e=>{this.setState({selectedValue:e}),this.props.onUpdateSelectedValue(e)},this.state={selectedValue:this.props.selectedValue||(this.props.isMulti?[]:"")}}componentDidUpdate(e){e.selectedValue!==this.props.selectedValue&&this.setState({selectedValue:this.props.selectedValue||(this.props.isMulti?[]:"")})}render(){const{selectedValue:e}=this.state,{data:t,placeholder:a,width:s,placeholderColor:r,menuPlacement:c,isMulti:n}=this.props;return(0,o.jsx)("div",{className:"DropDownList m-1 "+(s?`w-${s}`:""),children:(0,o.jsx)(l.Ay,{className:"dropdown",placeholder:a,value:e,options:t,onChange:this.handleChange,isMulti:n,isClearable:!0,styles:{control:e=>({...e,cursor:"pointer"}),placeholder:e=>({...e,color:r||"#6c757d"}),menu:e=>({...e,overflow:"hidden"}),menuList:e=>({...e,maxHeight:200,overflowY:"auto"})},menuPlacement:c||"auto"})})}}const c=r},7162:(e,t,a)=>{a.r(t),a.d(t,{default:()=>i});var s=a(5043),l=a(214),o=a(1036),r=a(5030),c=a(7735),n=a(579);const i=()=>{const[e,t]=(0,s.useState)([]),[a,i]=(0,s.useState)(!1),[d,u]=(0,s.useState)(null),[m,h]=(0,s.useState)({category:""});(0,s.useEffect)((()=>{p()}),[]);const p=async()=>{try{const e=await l.A.get("/categories");t(e.data.categories)}catch(e){o.oR.error("Error fetching categories!"),console.error("Error fetching categories!",e)}};return(0,n.jsxs)("div",{className:"container mt-100",children:[(0,n.jsx)("h2",{className:"text-center",children:"Category Page"}),(0,n.jsx)("div",{className:"mt-4",children:(0,n.jsx)("button",{onClick:()=>{h({category:""}),u(null),i(!0)},className:"btn btn-primary mb-3",children:"Add New Category"})}),a&&(0,n.jsx)(c.A,{showModal:a,header:"Recipe Category",onClose:()=>{i(!1),h({category:""}),u(null)},onSubmit:async e=>{try{let t;d?(t=await l.A.put(`/category/${d.id}`,e),o.oR.success("Category updated successfully")):(t=await l.A.post("/category",e),o.oR.success("Category created successfully")),i(!1),u(null),h({category:""}),p()}catch(t){o.oR.error("Error saving category!"),console.error("Error saving category!",t)}},isEditing:null!==d,formData:m,setFormData:h,fields:[{name:"category",label:"Recipe Category",type:"text",required:!0}]}),(0,n.jsx)(r.A,{data:e,columns:[{key:"category",label:"Category"}],onEdit:e=>{u(e),h({category:e.category}),i(!0)},onDelete:async e=>{if(window.confirm("Are you sure you want to delete this category?"))try{await l.A.delete(`/category/${e}`),p(),o.oR.success("Category deleted successfully")}catch(t){o.oR.error("Error deleting category!")}},Action:!0})]})}}}]);
//# sourceMappingURL=162.9c53276f.chunk.js.map